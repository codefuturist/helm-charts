# Default values for paperless-ngx
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

## @section Global parameters
## Global Docker image parameters
## Please, note that this will override the image parameters, including dependencies, configured to use the global value
## Current available global Docker image parameters: imageRegistry, imagePullSecrets and storageClass

## @param global.imageRegistry Global Docker image registry
## @param global.imagePullSecrets Global Docker registry secret names as an array
##
global:
  imageRegistry: ""
  ## E.g.
  ## imagePullSecrets:
  ##   - myRegistryKeySecretName
  ##
  imagePullSecrets: []

## @section Common parameters

## @param nameOverride String to partially override common.names.fullname
##
nameOverride: ""

## @param fullnameOverride String to fully override common.names.fullname
##
fullnameOverride: ""

## @param commonLabels Labels to add to all deployed objects
##
commonLabels: {}

## @param commonAnnotations Annotations to add to all deployed objects
##
commonAnnotations: {}

## @section Paperless-ngx Image parameters

## Paperless-ngx image
## ref: https://github.com/paperless-ngx/paperless-ngx/pkgs/container/paperless-ngx
## @param image.registry Paperless-ngx image registry
## @param image.repository Paperless-ngx image repository
## @param image.tag Paperless-ngx image tag (immutable tags are recommended)
## @param image.pullPolicy Paperless-ngx image pull policy
## @param image.pullSecrets Paperless-ngx image pull secrets
##
image:
  registry: ghcr.io
  repository: paperless-ngx/paperless-ngx
  ## Defaults to chart's appVersion if not specified
  tag: ""
  ## Specify a imagePullPolicy
  ## Defaults to 'Always' if image tag is 'latest', else set to 'IfNotPresent'
  ## ref: https://kubernetes.io/docs/concepts/containers/images/#pre-pulled-images
  ##
  pullPolicy: IfNotPresent
  ## Optionally specify an array of imagePullSecrets.
  ## Secrets must be manually created in the namespace.
  ## ref: https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/
  ## e.g:
  ## pullSecrets:
  ##   - myRegistryKeySecretName
  ##
  pullSecrets: []

## @section Paperless-ngx Configuration parameters

## Paperless-ngx configuration
## ref: https://docs.paperless-ngx.com/configuration/
##
config:
  ## @param config.secretKey Secret key for Django application (required)
  ## If not set and existingSecret is not set, a random key will be generated
  ##
  secretKey: ""

  ## @param config.existingSecret Name of existing secret containing Paperless-ngx secrets
  ## Should contain keys: PAPERLESS_SECRET_KEY and optionally PAPERLESS_ADMIN_PASSWORD
  ##
  existingSecret: ""

  ## @param config.adminUser Admin username for initial setup
  ##
  adminUser: "admin"

  ## @param config.adminMail Admin email for initial setup
  ##
  adminMail: "admin@localhost"

  ## @param config.adminPassword Admin password for initial setup (leave empty to skip admin creation)
  ##
  adminPassword: ""

  ## @param config.url The URL Paperless-ngx is accessible at (e.g., https://paperless.example.com)
  ##
  url: ""

  ## @param config.csrfTrustedOrigins List of trusted origins for CSRF protection
  ## e.g: ["https://paperless.example.com"]
  ##
  csrfTrustedOrigins: []

  ## @param config.allowedHosts List of allowed hosts
  ## e.g: ["paperless.example.com", "localhost"]
  ##
  allowedHosts: []

  ## @param config.corsAllowedHosts CORS allowed hosts
  ##
  corsAllowedHosts: []

  ## @param config.timeZone Timezone for the application
  ##
  timeZone: "UTC"

  ## @param config.ocrLanguage OCR language (default: eng)
  ## Multiple languages can be specified: eng+deu+fra
  ##
  ocrLanguage: "eng"

  ## @param config.ocrMode OCR mode: skip, redo, force, skip_noarchive
  ##
  ocrMode: "skip"

  ## @param config.ocrOutputType OCR output type: pdf, pdfa, pdfa-1, pdfa-2, pdfa-3
  ##
  ocrOutputType: "pdfa"

  ## @param config.ocrPages Number of pages to OCR (0 for all)
  ##
  ocrPages: 0

  ## @param config.ocrImageDpi DPI for OCR image preprocessing
  ##
  ocrImageDpi: 300

  ## @param config.taskWorkers Number of worker threads for document processing
  ##
  taskWorkers: 1

  ## @param config.threadsPerWorker Number of threads per worker
  ##
  threadsPerWorker: 1

  ## @param config.workerTimeout Worker timeout in seconds
  ##
  workerTimeout: 1800

  ## @param config.enableCompression Enable document compression
  ##
  enableCompression: true

  ## @param config.convertMemoryLimit Memory limit for image conversion
  ##
  convertMemoryLimit: "0"

  ## @param config.convertTmpdir Temporary directory for conversions
  ##
  convertTmpdir: ""

  ## @param config.optimize Optimize images
  ##
  optimize: true

  ## @param config.webserverWorkers Number of web server workers
  ##
  webserverWorkers: 1

  ## @param config.bindAddr Bind address for web server (should be 0.0.0.0 in container)
  ##
  bindAddr: "0.0.0.0"

  ## @param config.port Port for web server
  ##
  port: 8000

  ## @param config.enableHttpRemoteUser Enable HTTP remote user authentication
  ##
  enableHttpRemoteUser: false

  ## @param config.httpRemoteUserHeaderName HTTP header name for remote user
  ##
  httpRemoteUserHeaderName: "HTTP_REMOTE_USER"

  ## @param config.logrotateMaxSize Maximum size for log files before rotation
  ##
  logrotateMaxSize: "1024k"

  ## @param config.logrotateMaxBackups Number of log backups to keep
  ##
  logrotateMaxBackups: 20

  ## @param config.enableFlowerDebug Enable Flower debug interface for Celery
  ##
  enableFlowerDebug: false

  ## @section Path Overrides & Storage

  ## @param config.dataDir Override PAPERLESS_DATA_DIR (inside container)
  ##
  dataDir: ""

  ## @param config.mediaRoot Override PAPERLESS_MEDIA_ROOT
  ##
  mediaRoot: ""

  ## @param config.consumptionDir Override PAPERLESS_CONSUMPTION_DIR
  ##
  consumptionDir: ""

  ## @param config.exportDir Override PAPERLESS_EXPORT_DIR
  ##
  exportDir: ""

  ## @param config.staticDir Override PAPERLESS_STATICDIR
  ##
  staticDir: ""

  ## @param config.emptyTrashDir Override PAPERLESS_EMPTY_TRASH_DIR
  ##
  emptyTrashDir: ""

  ## @param config.loggingDir Override PAPERLESS_LOGGING_DIR
  ##
  loggingDir: ""

  ## @param config.nltkDir Override PAPERLESS_NLTK_DIR
  ##
  nltkDir: ""

  ## @param config.modelFile Override PAPERLESS_MODEL_FILE
  ##
  modelFile: ""

  ## @section Authentication, Hosting & Security

  ## @param config.cookiePrefix Prefix added to auth cookies
  ##
  cookiePrefix: ""

  ## @param config.autoLoginUsername Automatically log in specified user (dangerous on public setups)
  ##
  autoLoginUsername: ""

  ## @param config.disableRegularLogin Disable username/password login form
  ##
  disableRegularLogin: false

  ## @param config.redirectLoginToSSO Automatically redirect to first SSO provider
  ##
  redirectLoginToSSO: false

  ## @param config.enableHttpRemoteUserAPI Enable HTTP_REMOTE_USER auth for API
  ##
  enableHttpRemoteUserAPI: false

  ## @param config.logoutRedirectUrl URL to redirect users after logout
  ##
  logoutRedirectUrl: ""

  ## @param config.trustedProxies List of trusted proxy IPs
  ##
  trustedProxies: []

  ## @param config.forceScriptName Serve Paperless under a sub-path (e.g. /paperless)
  ##
  forceScriptName: ""

  ## @param config.staticUrl Override STATIC_URL (include trailing slash)
  ##
  staticUrl: "/static/"

  ## @param config.useXForwardedHost Respect X-Forwarded-Host header
  ##
  useXForwardedHost: false

  ## @param config.useXForwardedPort Respect X-Forwarded-Port header
  ##
  useXForwardedPort: false

  ## @param config.proxySslHeader Configure SECURE_PROXY_SSL_HEADER (e.g. ["HTTP_X_FORWARDED_PROTO","https"])
  ##
  proxySslHeader: []

  ## @param config.accountAllowSignups Allow self-service signups
  ##
  accountAllowSignups: false

  ## @param config.accountDefaultGroups Groups assigned on signup
  ##
  accountDefaultGroups: []

  ## @param config.socialAccountAllowSignups Allow social signups
  ##
  socialAccountAllowSignups: true

  ## @param config.socialAutoSignup Automatically create users from social login
  ##
  socialAutoSignup: false

  ## @param config.socialAccountSyncGroups Sync groups from IdP
  ##
  socialAccountSyncGroups: false

  ## @param config.socialAccountDefaultGroups Groups assigned to social signups
  ##
  socialAccountDefaultGroups: []

  ## @param config.accountSessionRemember Remember sessions past browser close
  ##
  accountSessionRemember: true

  ## @param config.sessionCookieAge Session lifetime in seconds
  ##
  sessionCookieAge: 1209600

  ## @param config.accountEmailVerification Email verification mode (optional, mandatory, none)
  ##
  accountEmailVerification: "optional"

  ## @param config.accountEmailUnknownAccounts Allow password reset for unknown emails
  ##
  accountEmailUnknownAccounts: true

  ## @param config.accountDefaultHttpProtocol Protocol for auth callbacks
  ##
  accountDefaultHttpProtocol: "https"

  ## @section Content & OCR Tweaks

  ## @param config.filenameFormat Template for stored filenames
  ##
  filenameFormat: ""

  ## @param config.filenameFormatRemoveNone Remove 'none' placeholders from filename format
  ##
  filenameFormatRemoveNone: false

  ## @param config.enableNltk Enable advanced NLP matching
  ##
  enableNltk: true

  ## @param config.dateParserLanguages Dateparser languages (e.g. "en+de")
  ##
  dateParserLanguages: ""

  ## @param config.dateOrder Preferred date order for parsing (e.g. DMY)
  ##
  dateOrder: ""

  ## @param config.numberOfSuggestedDates Maximum suggested dates in UI
  ##
  numberOfSuggestedDates: 3

  ## @param config.ignoreDates Comma-separated list of dates to ignore when parsing
  ##
  ignoreDates: ""

  ## @param config.enableGpgDecryptor Enable GPG decryptor for email ingestion
  ##
  enableGpgDecryptor: false

  ## @section Document Consumption

  ## @param config.consumerDisable Disable filesystem consumer entirely
  ##
  consumerDisable: false

  ## @param config.consumerDeleteDuplicates Delete duplicates during consumption
  ##
  consumerDeleteDuplicates: false

  ## @param config.consumerRecursive Enable recursive directory watching
  ##
  consumerRecursive: false

  ## @param config.consumerSubdirsAsTags Treat subdirectories as tags
  ##
  consumerSubdirsAsTags: false

  ## @param config.consumerPolling Polling interval in seconds (0 disables)
  ##
  consumerPolling: 0

  ## @param config.consumerPollingRetryCount Polling retry count before consuming
  ##
  consumerPollingRetryCount: 5

  ## @param config.consumerPollingDelay Delay between polling retries (seconds)
  ##
  consumerPollingDelay: 5

  ## @param config.consumerInotifyDelay Delay for inotify debounce (seconds)
  ##
  consumerInotifyDelay: 0.5

## @section Database Configuration

## @section Database Configuration

## External database configuration
## ref: https://docs.paperless-ngx.com/configuration/#database
##
database:
  ## @param database.type Database engine (postgresql or mariadb)
  ##
  type: postgresql

  postgresql:
    ## @param database.postgresql.host PostgreSQL host
    ## If postgresql.enabled is true, this will be auto-configured
    ##
    host: ""

    ## @param database.postgresql.port PostgreSQL port
    ##
    port: 5432

    ## @param database.postgresql.database PostgreSQL database name
    ##
    database: "paperless"

    ## @param database.postgresql.username PostgreSQL username
    ##
    username: "paperless"

    ## @param database.postgresql.password PostgreSQL password
    ##
    password: ""

    ## @param database.postgresql.existingSecret Name of existing secret containing PostgreSQL password
    ##
    existingSecret: ""

    ## @param database.postgresql.passwordKey Key in existing secret containing PostgreSQL password
    ##
    passwordKey: "password"

    ## @param database.postgresql.sslMode PostgreSQL SSL mode
    ##
    sslMode: "prefer"

  mariadb:
    ## @param database.mariadb.host MariaDB host
    ##
    host: ""

    ## @param database.mariadb.port MariaDB port
    ##
    port: 3306

    ## @param database.mariadb.database MariaDB database name
    ##
    database: "paperless"

    ## @param database.mariadb.username MariaDB username
    ##
    username: "paperless"

    ## @param database.mariadb.password MariaDB password
    ##
    password: ""

    ## @param database.mariadb.existingSecret Name of existing secret containing MariaDB password
    ##
    existingSecret: ""

    ## @param database.mariadb.passwordKey Key in existing secret containing MariaDB password
    ##
    passwordKey: "password"

    ## @param database.mariadb.sslMode MariaDB SSL mode
    ##
    sslMode: "PREFERRED"

  ## @param database.timeout Database connection timeout (seconds)
  ##
  timeout: ""

  ## @param database.poolSize Database connection pool size
  ##
  poolSize: ""

  ## @param database.sslRootCert Path to DB SSL root certificate
  ##
  sslRootCert: ""

  ## @param database.sslCert Path to DB SSL client certificate
  ##
  sslCert: ""

  ## @param database.sslKey Path to DB SSL private key
  ##
  sslKey: ""

  ## Database read cache configuration (backed by Redis)
  ##
  readCache:
    ## @param database.readCache.enabled Enable caching of DB reads
    ##
    enabled: false

    ## @param database.readCache.ttl TTL for cached results (seconds)
    ##
    ttl: 3600

    ## @param database.readCache.redisUrl Alternate Redis URL for the cache
    ##
    redisUrl: ""

## @section Redis Configuration

## External Redis configuration
## ref: https://docs.paperless-ngx.com/configuration/#redis
##
redis:
  ## @param redis.enabled Enable Redis subchart (Bitnami)
  ## Set to false if using external Redis
  ##
  enabled: true

  ## @param redis.host Redis host (for external Redis when redis.enabled=false)
  ## If redis.enabled is true, this will be auto-configured
  ##
  host: ""

  ## @param redis.port Redis port
  ##
  port: 6379

  ## @param redis.database Redis database number
  ##
  database: 0

  ## @param redis.prefix Prefix used for Redis keys/channels
  ##
  prefix: ""

  ## @param redis.password Redis password (for external Redis when redis.enabled=false)
  ##
  password: ""

  ## @param redis.existingSecret Name of existing secret containing Redis password
  ##
  existingSecret: ""

  ## @param redis.passwordKey Key in existing secret containing Redis password
  ##
  passwordKey: "password"

  ## @param redis.ssl Enable SSL for Redis connection
  ##
  ssl: false

  ## Bitnami Redis subchart configuration
  ## ref: https://github.com/bitnami/charts/tree/main/bitnami/redis
  ##
  ## @param redis.architecture Redis architecture (standalone or replication)
  ##
  architecture: standalone

  ## @param redis.auth.enabled Enable Redis authentication
  ##
  auth:
    enabled: false
    ## @param redis.auth.password Password for Bitnami Redis (leave empty for auto-generated)
    ##
    password: ""
    ## @param redis.auth.existingSecret Existing secret for Redis password
    ##
    existingSecret: ""

  ## @param redis.master.persistence.enabled Enable Redis persistence
  ##
  master:
    persistence:
      enabled: false
      size: 8Gi

## @section PostgreSQL Configuration (Bitnami Subchart)

## PostgreSQL subchart configuration
## ref: https://github.com/bitnami/charts/tree/main/bitnami/postgresql
##
postgresql:
  ## @param postgresql.enabled Enable PostgreSQL subchart (Bitnami)
  ## Set to false if using external PostgreSQL database
  ##
  enabled: true

  ## @param postgresql.auth.username PostgreSQL username
  ##
  auth:
    username: paperless
    password: paperless
    database: paperless

  ## @param postgresql.primary.persistence.enabled Enable PostgreSQL persistence
  ##
  primary:
    persistence:
      enabled: true
      size: 8Gi

## @section Email Configuration

## SMTP configuration for email notifications
## ref: https://docs.paperless-ngx.com/configuration/#email
##
email:
  ## @param email.enabled Enable email functionality
  ##
  enabled: false

  ## @param email.host SMTP host
  ##
  host: ""

  ## @param email.port SMTP port
  ##
  port: 587

  ## @param email.from Email from address
  ##
  from: "paperless@localhost"

  ## @param email.useTLS Use TLS for SMTP
  ##
  useTLS: true

  ## @param email.useSSL Use SSL for SMTP
  ##
  useSSL: false

  ## @param email.username SMTP username
  ##
  username: ""

  ## @param email.password SMTP password
  ##
  password: ""

  ## @param email.existingSecret Name of existing secret containing SMTP password
  ##
  existingSecret: ""

  ## @param email.passwordKey Key in existing secret containing SMTP password
  ##
  passwordKey: "password"

## @section Email Parsing

emailParsing:
  ## @param emailParsing.defaultLayout Default layout for consumed emails (1=text->html, 2=html->text, 3=html only, 4=text only)
  ##
  defaultLayout: 1

## @section Tika & Document Conversion

tika:
  ## @param tika.enabled Enable Tika/Gotenberg integration
  ##
  enabled: false

  ## @param tika.endpoint Tika endpoint URL
  ##
  endpoint: "http://localhost:9998"

  ## @param tika.gotenbergEndpoint Gotenberg endpoint URL
  ##
  gotenbergEndpoint: "http://localhost:3000"

## @section Scheduled Tasks

tasks:
  ## @param tasks.email Cron expression for email fetch task ("disable" to turn off)
  ##
  email: "*/10 * * * *"

  ## @param tasks.train Cron expression for classifier training
  ##
  train: "5 */1 * * *"

  ## @param tasks.index Cron expression for search index updates
  ##
  index: "0 0 * * *"

  ## @param tasks.sanity Cron expression for sanity checks
  ##
  sanity: "30 0 * * sun"

  ## @param tasks.emptyTrash Cron expression for emptying trash
  ##
  emptyTrash: "0 1 * * *"

## @section Worker Configuration

## Celery worker configuration
## Workers handle document processing tasks separately from the web server
##
worker:
  ## @param worker.enabled Enable separate worker deployment
  ##
  enabled: true

  ## @param worker.replicaCount Number of worker replicas
  ##
  replicaCount: 1

  ## @param worker.resources.limits The resources limits for the worker containers
  ## @param worker.resources.requests The requested resources for the worker containers
  ## Minimal requests to allow scheduling, no limits to allow bursting
  ##
  resources:
    limits: {}
    requests:
      cpu: 10m
      memory: 64Mi

  ## @param worker.nodeSelector Node labels for worker pod assignment
  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
  ##
  nodeSelector: {}

  ## @param worker.tolerations Tolerations for worker pod assignment
  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/
  ##
  tolerations: []

  ## @param worker.affinity Affinity for worker pod assignment
  ## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#affinity-and-anti-affinity
  ##
  affinity: {}

  ## @param worker.podAnnotations Annotations for worker pods
  ##
  podAnnotations: {}

  ## @param worker.podLabels Extra labels for worker pods
  ##
  podLabels: {}

## @section Deployment Configuration

## @param replicaCount Number of Paperless-ngx web server replicas to deploy
##
replicaCount: 1

## @param strategy.type Deployment strategy type
## @param strategy.rollingUpdate Rolling update configuration
##
strategy:
  type: RollingUpdate
  rollingUpdate:
    maxSurge: 1
    maxUnavailable: 0

## @section Persistence Configuration

## Persistence for Paperless-ngx
##
persistence:
  ## Data volume - stores document database
  ##
  data:
    ## @param persistence.data.enabled Enable persistence for data
    ##
    enabled: true

    ## @param persistence.data.existingClaim Name of an existing PVC to use
    ##
    existingClaim: ""

    ## @param persistence.data.storageClass Storage class of backing PVC
    ##
    storageClass: ""

    ## @param persistence.data.accessModes Persistent Volume access modes
    ##
    accessModes:
      - ReadWriteOnce

    ## @param persistence.data.size Size of data volume claim
    ##
    size: 8Gi

    ## @param persistence.data.annotations Persistent Volume Claim annotations
    ##
    annotations: {}

  ## Media volume - stores processed documents
  ##
  media:
    ## @param persistence.media.enabled Enable persistence for media
    ##
    enabled: true

    ## @param persistence.media.existingClaim Name of an existing PVC to use
    ##
    existingClaim: ""

    ## @param persistence.media.storageClass Storage class of backing PVC
    ##
    storageClass: ""

    ## @param persistence.media.accessModes Persistent Volume access modes
    ##
    accessModes:
      - ReadWriteOnce

    ## @param persistence.media.size Size of media volume claim
    ##
    size: 10Gi

    ## @param persistence.media.annotations Persistent Volume Claim annotations
    ##
    annotations: {}

  ## Consume volume - watches for new documents
  ##
  consume:
    ## @param persistence.consume.enabled Enable persistence for consume
    ##
    enabled: true

    ## @param persistence.consume.existingClaim Name of an existing PVC to use
    ##
    existingClaim: ""

    ## @param persistence.consume.storageClass Storage class of backing PVC
    ##
    storageClass: ""

    ## @param persistence.consume.accessModes Persistent Volume access modes
    ##
    accessModes:
      - ReadWriteOnce

    ## @param persistence.consume.size Size of consume volume claim
    ##
    size: 5Gi

    ## @param persistence.consume.annotations Persistent Volume Claim annotations
    ##
    annotations: {}

  ## Export volume - optional, for document exports
  ##
  export:
    ## @param persistence.export.enabled Enable persistence for export
    ##
    enabled: false

    ## @param persistence.export.existingClaim Name of an existing PVC to use
    ##
    existingClaim: ""

    ## @param persistence.export.storageClass Storage class of backing PVC
    ##
    storageClass: ""

    ## @param persistence.export.accessModes Persistent Volume access modes
    ##
    accessModes:
      - ReadWriteOnce

    ## @param persistence.export.size Size of export volume claim
    ##
    size: 5Gi

    ## @param persistence.export.annotations Persistent Volume Claim annotations
    ##
    annotations: {}

## @section Service Configuration

## Paperless-ngx service parameters
##
service:
  ## @param service.type Paperless-ngx service type
  ##
  type: ClusterIP

  ## @param service.port Paperless-ngx service HTTP port
  ##
  port: 80

  ## @param service.nodePort Node port for HTTP (only when type is NodePort)
  ##
  nodePort: ""

  ## @param service.clusterIP Paperless-ngx service Cluster IP
  ## e.g.:
  ## clusterIP: None
  ##
  clusterIP: ""

  ## @param service.loadBalancerIP Paperless-ngx service Load Balancer IP
  ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer
  ##
  loadBalancerIP: ""

  ## @param service.loadBalancerSourceRanges Paperless-ngx service Load Balancer sources
  ## ref: https://kubernetes.io/docs/tasks/access-application-cluster/configure-cloud-provider-firewall/#restrict-access-for-loadbalancer-service
  ## e.g:
  ## loadBalancerSourceRanges:
  ##   - 10.10.10.0/24
  ##
  loadBalancerSourceRanges: []

  ## @param service.externalTrafficPolicy Paperless-ngx service external traffic policy
  ## ref https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#preserving-the-client-source-ip
  ##
  externalTrafficPolicy: Cluster

  ## @param service.annotations Additional custom annotations for Paperless-ngx service
  ##
  annotations: {}

  ## @param service.sessionAffinity Session Affinity for Kubernetes service, can be "None" or "ClientIP"
  ## If "ClientIP", consecutive client requests will be directed to the same Pod
  ## ref: https://kubernetes.io/docs/concepts/services-networking/service/#virtual-ips-and-service-proxies
  ##
  sessionAffinity: None

  ## @param service.sessionAffinityConfig Additional settings for the sessionAffinity
  ## sessionAffinityConfig:
  ##   clientIP:
  ##     timeoutSeconds: 300
  ##
  sessionAffinityConfig: {}

## @section Ingress Configuration

## Ingress configuration
##
ingress:
  ## @param ingress.enabled Enable ingress record generation for Paperless-ngx
  ##
  enabled: false

  ## @param ingress.className IngressClass that will be be used to implement the Ingress
  ##
  className: ""

  ## @param ingress.annotations Additional annotations for the Ingress resource
  ## Example for nginx ingress controller:
  ## annotations:
  ##   nginx.ingress.kubernetes.io/proxy-body-size: "0"
  ##   nginx.ingress.kubernetes.io/proxy-read-timeout: "600"
  ##   nginx.ingress.kubernetes.io/proxy-send-timeout: "600"
  ##
  annotations: {}

  ## @param ingress.hosts[0].host Hostname to your Paperless-ngx installation
  ## @param ingress.hosts[0].paths[0].path Path within the url structure
  ## @param ingress.hosts[0].paths[0].pathType Ingress path type
  ##
  hosts:
    - host: paperless-ngx.local
      paths:
        - path: /
          pathType: Prefix

  ## @param ingress.tls TLS configuration
  ## Secrets must be manually created in the namespace
  ##
  tls: []
  #  - secretName: paperless-ngx-tls
  #    hosts:
  #      - paperless-ngx.local

## @section Paperless-AI Integration

paperlessAi:
  ## @param paperlessAi.enabled Deploy the optional Paperless-AI service alongside Paperless-ngx
  ##
  enabled: false

  ## @param paperlessAi.replicaCount Number of Paperless-AI replicas
  ##
  replicaCount: 1

  image:
    ## @param paperlessAi.image.registry Paperless-AI image registry
    ##
    registry: docker.io

    ## @param paperlessAi.image.repository Paperless-AI image repository
    ##
    repository: clusterzx/paperless-ai

    ## @param paperlessAi.image.tag Paperless-AI image tag
    ##
    tag: ""

    ## @param paperlessAi.image.pullPolicy Paperless-AI image pull policy
    ##
    pullPolicy: IfNotPresent

    ## @param paperlessAi.image.pullSecrets Image pull secrets for Paperless-AI
    ##
    pullSecrets: []

  ## @param paperlessAi.configMode Configure Paperless-AI via managed `.env` file (`managed`) or allow in-app UI (`ui`)
  ##
  configMode: managed

  ## @param paperlessAi.env Map of key/value pairs rendered into the Paperless-AI `.env` file (managed mode)
  ## Leave sensitive entries blank if you prefer to inject them via secrets/extra env vars
  ##
  env:
    PAPERLESS_AI_INITIAL_SETUP: "yes"
    PAPERLESS_API_URL: ""
    PAPERLESS_API_TOKEN: ""
    PAPERLESS_USERNAME: "paperless-ai"
    AI_PROVIDER: "openai"
    OPENAI_API_KEY: ""
    OPENAI_MODEL: "gpt-4o-mini"
    OLLAMA_API_URL: "http://localhost:11434"
    OLLAMA_MODEL: "llama3.2"
    SCAN_INTERVAL: "*/30 * * * *"
    DISABLE_AUTOMATIC_PROCESSING: "no"
    PROCESS_PREDEFINED_DOCUMENTS: "no"
    TAGS: ""
    ADD_AI_PROCESSED_TAG: "no"
    AI_PROCESSED_TAG_NAME: "ai-processed"
    USE_EXISTING_DATA: "no"
    RAG_SERVICE_ENABLED: "true"

  ## @param paperlessAi.envExtraLines Extra literal lines appended to the managed `.env` file
  ##
  envExtraLines: []

  envSecret:
    ## @param paperlessAi.envSecret.existingSecret Use an existing secret that contains the managed `.env`
    ##
    existingSecret: ""

    ## @param paperlessAi.envSecret.key Key inside the secret that stores the `.env` payload
    ##
    key: paperless-ai.env

  service:
    ## @param paperlessAi.service.type Paperless-AI service type
    ##
    type: ClusterIP

    ## @param paperlessAi.service.port Primary HTTP/UI port for Paperless-AI
    ##
    port: 3000

    ## @param paperlessAi.service.nodePort NodePort for the main service (when service.type=NodePort)
    ##
    nodePort: ""

    ## @param paperlessAi.service.annotations Extra annotations for the Paperless-AI service
    ##
    annotations: {}

    ## @param paperlessAi.service.ragPort Internal RAG API port
    ##
    ragPort: 8000

    ## @param paperlessAi.service.ragNodePort NodePort for the RAG API (when service.type=NodePort)
    ##
    ragNodePort: ""

    ## @param paperlessAi.service.exposeRagPort Expose the RAG backend as a second service port
    ##
    exposeRagPort: false

  ingress:
    ## @param paperlessAi.ingress.enabled Enable a dedicated ingress for Paperless-AI
    ##
    enabled: false

    ## @param paperlessAi.ingress.className IngressClass used by the Paperless-AI ingress
    ##
    className: ""

    ## @param paperlessAi.ingress.annotations Additional Paperless-AI ingress annotations
    ##
    annotations: {}

    ## @param paperlessAi.ingress.hosts[0].host Paperless-AI ingress host
    ## @param paperlessAi.ingress.hosts[0].paths[0].path Paperless-AI ingress path
    ## @param paperlessAi.ingress.hosts[0].paths[0].pathType Paperless-AI ingress path type
    ##
    hosts:
      - host: paperless-ai.local
        paths:
          - path: /
            pathType: Prefix

    ## @param paperlessAi.ingress.tls TLS configuration for the Paperless-AI ingress
    ##
    tls: []

  persistence:
    ## @param paperlessAi.persistence.enabled Enable a persistent volume for `/app/data`
    ##
    enabled: true

    ## @param paperlessAi.persistence.existingClaim Use an existing PVC for Paperless-AI data
    ##
    existingClaim: ""

    ## @param paperlessAi.persistence.storageClass Storage class for the Paperless-AI PVC
    ##
    storageClass: ""

    ## @param paperlessAi.persistence.accessModes Access modes for the Paperless-AI PVC
    ##
    accessModes:
      - ReadWriteOnce

    ## @param paperlessAi.persistence.size Requested size for the Paperless-AI PVC
    ##
    size: 5Gi

    ## @param paperlessAi.persistence.annotations Extra annotations for the Paperless-AI PVC
    ##
    annotations: {}

  serviceAccount:
    ## @param paperlessAi.serviceAccount.create Create a dedicated ServiceAccount for Paperless-AI
    ##
    create: false

    ## @param paperlessAi.serviceAccount.name Override the Paperless-AI ServiceAccount name
    ##
    name: ""

    ## @param paperlessAi.serviceAccount.annotations Additional ServiceAccount annotations
    ##
    annotations: {}

    ## @param paperlessAi.serviceAccount.automountServiceAccountToken Automount the SA token for Paperless-AI pods
    ##
    automountServiceAccountToken: false

  ## @param paperlessAi.podAnnotations Extra annotations for Paperless-AI pods
  ##
  podAnnotations: {}

  ## @param paperlessAi.podLabels Extra labels for Paperless-AI pods
  ##
  podLabels: {}

  ## @param paperlessAi.podSecurityContext Pod-level security context overrides
  ##
  podSecurityContext: {}

  ## @param paperlessAi.containerSecurityContext Container-level security context overrides
  ##
  containerSecurityContext: {}

  resources:
    ## @param paperlessAi.resources.limits Resource limits for Paperless-AI containers
    ## @param paperlessAi.resources.requests Resource requests for Paperless-AI containers
    ##
    limits: {}
    requests: {}

  ## @param paperlessAi.nodeSelector Node selector for Paperless-AI pods
  ##
  nodeSelector: {}

  ## @param paperlessAi.tolerations Tolerations for Paperless-AI pods
  ##
  tolerations: []

  ## @param paperlessAi.affinity Affinity rules for Paperless-AI pods
  ##
  affinity: {}

  ## @param paperlessAi.priorityClassName Priority class for Paperless-AI pods
  ##
  priorityClassName: ""

  ## @param paperlessAi.extraEnv Additional env vars appended to the Paperless-AI container
  ##
  extraEnv: []

  ## @param paperlessAi.extraEnvFrom Additional envFrom entries (Secret/ConfigMap references)
  ## each item should be a valid `envFrom` map
  ##
  extraEnvFrom: []

  ## @param paperlessAi.extraVolumes Extra volumes for Paperless-AI pods
  ##
  extraVolumes: []

  ## @param paperlessAi.extraVolumeMounts Extra volumeMounts for Paperless-AI containers
  ##
  extraVolumeMounts: []

  ## @param paperlessAi.initContainers Additional init containers for Paperless-AI pods
  ##
  initContainers: []

  ## @param paperlessAi.sidecars Additional sidecar containers for Paperless-AI pods
  ##
  sidecars: []

  livenessProbe:
    ## @param paperlessAi.livenessProbe.enabled Enable liveness probe for Paperless-AI pods
    ##
    enabled: true

    ## @param paperlessAi.livenessProbe.initialDelaySeconds Initial delay seconds for liveness probe
    ##
    initialDelaySeconds: 30

    ## @param paperlessAi.livenessProbe.periodSeconds Period seconds for liveness probe
    ##
    periodSeconds: 10

    ## @param paperlessAi.livenessProbe.timeoutSeconds Timeout seconds for liveness probe
    ##
    timeoutSeconds: 5

    ## @param paperlessAi.livenessProbe.failureThreshold Failure threshold for liveness probe
    ##
    failureThreshold: 6

    ## @param paperlessAi.livenessProbe.successThreshold Success threshold for liveness probe
    ##
    successThreshold: 1

  readinessProbe:
    ## @param paperlessAi.readinessProbe.enabled Enable readiness probe for Paperless-AI pods
    ##
    enabled: true

    ## @param paperlessAi.readinessProbe.initialDelaySeconds Initial delay seconds for readiness probe
    ##
    initialDelaySeconds: 10

    ## @param paperlessAi.readinessProbe.periodSeconds Period seconds for readiness probe
    ##
    periodSeconds: 10

    ## @param paperlessAi.readinessProbe.timeoutSeconds Timeout seconds for readiness probe
    ##
    timeoutSeconds: 5

    ## @param paperlessAi.readinessProbe.failureThreshold Failure threshold for readiness probe
    ##
    failureThreshold: 6

    ## @param paperlessAi.readinessProbe.successThreshold Success threshold for readiness probe
    ##
    successThreshold: 1

  startupProbe:
    ## @param paperlessAi.startupProbe.enabled Enable startup probe for Paperless-AI pods
    ##
    enabled: true

    ## @param paperlessAi.startupProbe.initialDelaySeconds Initial delay seconds for startup probe
    ##
    initialDelaySeconds: 0

    ## @param paperlessAi.startupProbe.periodSeconds Period seconds for startup probe
    ##
    periodSeconds: 10

    ## @param paperlessAi.startupProbe.timeoutSeconds Timeout seconds for startup probe
    ##
    timeoutSeconds: 5

    ## @param paperlessAi.startupProbe.failureThreshold Failure threshold for startup probe
    ##
    failureThreshold: 30

    ## @param paperlessAi.startupProbe.successThreshold Success threshold for startup probe
    ##
    successThreshold: 1

## @section Paperless-GPT Integration

paperlessGpt:
  ## @param paperlessGpt.enabled Deploy the optional Paperless-GPT service alongside Paperless-ngx
  ##
  enabled: false

  ## @param paperlessGpt.replicaCount Number of Paperless-GPT replicas
  ##
  replicaCount: 1

  image:
    ## @param paperlessGpt.image.registry Paperless-GPT image registry
    ##
    registry: docker.io

    ## @param paperlessGpt.image.repository Paperless-GPT image repository
    ##
    repository: clusterzx/paperless-gpt

    ## @param paperlessGpt.image.tag Paperless-GPT image tag
    ##
    tag: ""

    ## @param paperlessGpt.image.pullPolicy Paperless-GPT image pull policy
    ##
    pullPolicy: IfNotPresent

    ## @param paperlessGpt.image.pullSecrets Image pull secrets for Paperless-GPT
    ##
    pullSecrets: []

  ## @param paperlessGpt.configMode Configure Paperless-GPT via managed `.env` (`managed`) or allow UI editing (`ui`)
  ##
  configMode: managed

  ## @param paperlessGpt.env Map of key/value pairs rendered into the Paperless-GPT `.env` file (managed mode)
  ##
  env:
    PAPERLESS_GPT_INITIAL_SETUP: "yes"
    PAPERLESS_API_URL: ""
    PAPERLESS_API_TOKEN: ""
    PAPERLESS_USERNAME: "paperless-gpt"
    GPT_PROVIDER: "openai"
    GPT_MODEL: "gpt-4o-mini"
    GPT_SYSTEM_PROMPT: ""
    OPENAI_API_KEY: ""
    STREAMING_ENABLED: "true"
    CHAT_HISTORY_WINDOW: "25"
    EMBEDDINGS_PROVIDER: "openai"
    EMBEDDINGS_MODEL: "text-embedding-3-large"
    RAG_SERVICE_URL: ""
    RAG_SERVICE_ENABLED: "true"
    SUMMARIZATION_ENABLED: "true"
    WEBHOOK_URL: ""

  ## @param paperlessGpt.envExtraLines Extra literal lines appended to the managed `.env` file
  ##
  envExtraLines: []

  envSecret:
    ## @param paperlessGpt.envSecret.existingSecret Use an existing secret that contains the managed `.env`
    ##
    existingSecret: ""

    ## @param paperlessGpt.envSecret.key Key inside the secret that stores the `.env` payload
    ##
    key: paperless-gpt.env

  ## @param paperlessGpt.extraEnv Additional env vars appended to the Paperless-GPT container
  ##
  extraEnv: []

  ## @param paperlessGpt.extraEnvFrom Additional envFrom entries (Secret/ConfigMap references)
  ##
  extraEnvFrom: []

  ## @param paperlessGpt.envFromSecrets Extra Kubernetes secrets to mount via envFrom (legacy compatibility)
  ##
  envFromSecrets: []

  service:
    ## @param paperlessGpt.service.type Paperless-GPT service type
    ##
    type: ClusterIP

    ## @param paperlessGpt.service.port Primary HTTP/API port for Paperless-GPT
    ##
    port: 3100

    ## @param paperlessGpt.service.nodePort NodePort for the main service (when service.type=NodePort)
    ##
    nodePort: ""

    ## @param paperlessGpt.service.annotations Extra annotations for the Paperless-GPT service
    ##
    annotations: {}

    ## @param paperlessGpt.service.ragPort Optional secondary port for RAG streaming
    ##
    ragPort: 8100

    ## @param paperlessGpt.service.ragNodePort NodePort for the RAG port
    ##
    ragNodePort: ""

    ## @param paperlessGpt.service.exposeRagPort Expose the RAG backend as a second service port
    ##
    exposeRagPort: false

  ingress:
    ## @param paperlessGpt.ingress.enabled Enable a dedicated ingress for Paperless-GPT
    ##
    enabled: false

    ## @param paperlessGpt.ingress.className Ingress class name for Paperless-GPT
    ##
    className: ""

    ## @param paperlessGpt.ingress.annotations Additional Paperless-GPT ingress annotations
    ##
    annotations: {}

    ## @param paperlessGpt.ingress.hosts[0].host Paperless-GPT ingress host
    ## @param paperlessGpt.ingress.hosts[0].paths[0].path Paperless-GPT ingress path
    ## @param paperlessGpt.ingress.hosts[0].paths[0].pathType Paperless-GPT ingress path type
    ##
    hosts:
      - host: paperless-gpt.local
        paths:
          - path: /
            pathType: Prefix

    ## @param paperlessGpt.ingress.tls TLS configuration for the Paperless-GPT ingress
    ##
    tls: []

  persistence:
    ## @param paperlessGpt.persistence.enabled Enable a persistent volume for `/app/data`
    ##
    enabled: true

    ## @param paperlessGpt.persistence.existingClaim Use an existing PVC for Paperless-GPT data
    ##
    existingClaim: ""

    ## @param paperlessGpt.persistence.storageClass Storage class for the Paperless-GPT PVC
    ##
    storageClass: ""

    ## @param paperlessGpt.persistence.accessModes Access modes for the Paperless-GPT PVC
    ##
    accessModes:
      - ReadWriteOnce

    ## @param paperlessGpt.persistence.size Requested size for the Paperless-GPT PVC
    ##
    size: 5Gi

    ## @param paperlessGpt.persistence.annotations Extra annotations for the Paperless-GPT PVC
    ##
    annotations: {}

  serviceAccount:
    ## @param paperlessGpt.serviceAccount.create Create a dedicated ServiceAccount for Paperless-GPT
    ##
    create: false

    ## @param paperlessGpt.serviceAccount.name Override the Paperless-GPT ServiceAccount name
    ##
    name: ""

    ## @param paperlessGpt.serviceAccount.annotations Additional ServiceAccount annotations
    ##
    annotations: {}

    ## @param paperlessGpt.serviceAccount.automountServiceAccountToken Automount the SA token for Paperless-GPT pods
    ##
    automountServiceAccountToken: false

  ## @param paperlessGpt.podAnnotations Extra annotations for Paperless-GPT pods
  ##
  podAnnotations: {}

  ## @param paperlessGpt.podLabels Extra labels for Paperless-GPT pods
  ##
  podLabels: {}

  ## @param paperlessGpt.podSecurityContext Pod-level security context overrides
  ##
  podSecurityContext: {}

  ## @param paperlessGpt.containerSecurityContext Container-level security context overrides
  ##
  containerSecurityContext: {}

  ## @param paperlessGpt.priorityClassName Priority class for Paperless-GPT pods
  ##
  priorityClassName: ""

  ## @param paperlessGpt.extraVolumes Extra volumes for Paperless-GPT pods
  ##
  extraVolumes: []

  ## @param paperlessGpt.extraVolumeMounts Extra volumeMounts for Paperless-GPT containers
  ##
  extraVolumeMounts: []

  ## @param paperlessGpt.initContainers Additional init containers for Paperless-GPT pods
  ##
  initContainers: []

  ## @param paperlessGpt.sidecars Additional sidecar containers for Paperless-GPT pods
  ##
  sidecars: []

  resources:
    ## @param paperlessGpt.resources.limits Resource limits for Paperless-GPT containers
    ## @param paperlessGpt.resources.requests Resource requests for Paperless-GPT containers
    ##
    limits: {}
    requests: {}

  ## @param paperlessGpt.nodeSelector Node selector for Paperless-GPT pods
  ##
  nodeSelector: {}

  ## @param paperlessGpt.tolerations Tolerations for Paperless-GPT pods
  ##
  tolerations: []

  ## @param paperlessGpt.affinity Affinity rules for Paperless-GPT pods
  ##
  affinity: {}

  livenessProbe:
    ## @param paperlessGpt.livenessProbe.enabled Enable liveness probe for Paperless-GPT pods
    ##
    enabled: true

    ## @param paperlessGpt.livenessProbe.initialDelaySeconds Initial delay seconds for liveness probe
    ##
    initialDelaySeconds: 30

    ## @param paperlessGpt.livenessProbe.periodSeconds Period seconds for liveness probe
    ##
    periodSeconds: 10

    ## @param paperlessGpt.livenessProbe.timeoutSeconds Timeout seconds for liveness probe
    ##
    timeoutSeconds: 5

    ## @param paperlessGpt.livenessProbe.failureThreshold Failure threshold for liveness probe
    ##
    failureThreshold: 6

    ## @param paperlessGpt.livenessProbe.successThreshold Success threshold for liveness probe
    ##
    successThreshold: 1

  readinessProbe:
    ## @param paperlessGpt.readinessProbe.enabled Enable readiness probe for Paperless-GPT pods
    ##
    enabled: true

    ## @param paperlessGpt.readinessProbe.initialDelaySeconds Initial delay seconds for readiness probe
    ##
    initialDelaySeconds: 10

    ## @param paperlessGpt.readinessProbe.periodSeconds Period seconds for readiness probe
    ##
    periodSeconds: 10

    ## @param paperlessGpt.readinessProbe.timeoutSeconds Timeout seconds for readiness probe
    ##
    timeoutSeconds: 5

    ## @param paperlessGpt.readinessProbe.failureThreshold Failure threshold for readiness probe
    ##
    failureThreshold: 6

    ## @param paperlessGpt.readinessProbe.successThreshold Success threshold for readiness probe
    ##
    successThreshold: 1

  startupProbe:
    ## @param paperlessGpt.startupProbe.enabled Enable startup probe for Paperless-GPT pods
    ##
    enabled: true

    ## @param paperlessGpt.startupProbe.initialDelaySeconds Initial delay seconds for startup probe
    ##
    initialDelaySeconds: 0

    ## @param paperlessGpt.startupProbe.periodSeconds Period seconds for startup probe
    ##
    periodSeconds: 10

    ## @param paperlessGpt.startupProbe.timeoutSeconds Timeout seconds for startup probe
    ##
    timeoutSeconds: 5

    ## @param paperlessGpt.startupProbe.failureThreshold Failure threshold for startup probe
    ##
    failureThreshold: 30

    ## @param paperlessGpt.startupProbe.successThreshold Success threshold for startup probe
    ##
    successThreshold: 1

## @section Security Configuration

## Configure Pods Security Context
## ref: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/#set-the-security-context-for-a-pod
## @param podSecurityContext.enabled Enabled Paperless-ngx pods' Security Context
## @param podSecurityContext.fsGroup Set Paperless-ngx pod's Security Context fsGroup
## @param podSecurityContext.fsGroupChangePolicy Set filesystem group change policy
## @param podSecurityContext.sysctls Set kernel settings using the sysctl interface
## @param podSecurityContext.supplementalGroups Set filesystem extra groups
##
podSecurityContext:
  enabled: true
  fsGroup: 1000
  fsGroupChangePolicy: "OnRootMismatch"
  sysctls: []
  supplementalGroups: []

## Configure Container Security Context
## ref: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/#set-the-security-context-for-a-container
## @param containerSecurityContext.enabled Enabled Paperless-ngx containers' Security Context
## @param containerSecurityContext.runAsUser Set Paperless-ngx containers' Security Context runAsUser
## @param containerSecurityContext.runAsNonRoot Set Paperless-ngx containers' Security Context runAsNonRoot
## @param containerSecurityContext.privileged Set Paperless-ngx containers' Security Context privileged
## @param containerSecurityContext.readOnlyRootFilesystem Set Paperless-ngx containers' Security Context runAsNonRoot
## @param containerSecurityContext.allowPrivilegeEscalation Set Paperless-ngx containers' Security Context allowPrivilegeEscalation
## @param containerSecurityContext.capabilities.drop List of capabilities to be dropped
## @param containerSecurityContext.seccompProfile.type Set container's Security Context seccomp profile
##
containerSecurityContext:
  enabled: true
  runAsUser: 1000
  runAsNonRoot: true
  privileged: false
  readOnlyRootFilesystem: false
  allowPrivilegeEscalation: false
  capabilities:
    drop:
      - ALL
  seccompProfile:
    type: RuntimeDefault

## @section RBAC Configuration

## ServiceAccount configuration
##
serviceAccount:
  ## @param serviceAccount.create Specifies whether a ServiceAccount should be created
  ##
  create: true

  ## @param serviceAccount.name The name of the ServiceAccount to use
  ## If not set and create is true, a name is generated using the fullname template
  ##
  name: ""

  ## @param serviceAccount.annotations Additional Service Account annotations
  ##
  annotations: {}

  ## @param serviceAccount.automountServiceAccountToken Automount service account token for the server service account
  ##
  automountServiceAccountToken: false

## @section Resource Configuration

## Paperless-ngx resource requests and limits
## ref: https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/
## @param resources.limits The resources limits for the Paperless-ngx containers
## @param resources.requests The requested resources for the Paperless-ngx containers
## Minimal requests to allow scheduling, no limits to allow bursting
##
resources:
  limits: {}
  requests:
    cpu: 10m
    memory: 64Mi

## Configure Pods Disruption Budget
## ref: https://kubernetes.io/docs/tasks/run-application/configure-pdb/
##
podDisruptionBudget:
  ## @param podDisruptionBudget.enabled Enable pod disruption budget
  ##
  enabled: false

  ## @param podDisruptionBudget.minAvailable Minimum available pods
  ##
  minAvailable: 1

  ## @param podDisruptionBudget.maxUnavailable Maximum unavailable pods
  ##
  maxUnavailable: ""

## Autoscaling configuration
##
autoscaling:
  ## @param autoscaling.enabled Enable autoscaling for Paperless-ngx
  ##
  enabled: false

  ## @param autoscaling.minReplicas Minimum number of Paperless-ngx replicas
  ##
  minReplicas: 1

  ## @param autoscaling.maxReplicas Maximum number of Paperless-ngx replicas
  ##
  maxReplicas: 10

  ## @param autoscaling.targetCPU Target CPU utilization percentage
  ##
  targetCPU: 80

  ## @param autoscaling.targetMemory Target Memory utilization percentage
  ##
  targetMemory: 80

## @section Health Checks

## Configure extra options for liveness and readiness probes
## ref: https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/#configure-probes
##
livenessProbe:
  ## @param livenessProbe.enabled Enable livenessProbe
  ##
  enabled: true

  ## @param livenessProbe.initialDelaySeconds Initial delay seconds for livenessProbe
  ##
  initialDelaySeconds: 30

  ## @param livenessProbe.periodSeconds Period seconds for livenessProbe
  ##
  periodSeconds: 10

  ## @param livenessProbe.timeoutSeconds Timeout seconds for livenessProbe
  ##
  timeoutSeconds: 5

  ## @param livenessProbe.failureThreshold Failure threshold for livenessProbe
  ##
  failureThreshold: 6

  ## @param livenessProbe.successThreshold Success threshold for livenessProbe
  ##
  successThreshold: 1

readinessProbe:
  ## @param readinessProbe.enabled Enable readinessProbe
  ##
  enabled: true

  ## @param readinessProbe.initialDelaySeconds Initial delay seconds for readinessProbe
  ##
  initialDelaySeconds: 10

  ## @param readinessProbe.periodSeconds Period seconds for readinessProbe
  ##
  periodSeconds: 10

  ## @param readinessProbe.timeoutSeconds Timeout seconds for readinessProbe
  ##
  timeoutSeconds: 5

  ## @param readinessProbe.failureThreshold Failure threshold for readinessProbe
  ##
  failureThreshold: 6

  ## @param readinessProbe.successThreshold Success threshold for readinessProbe
  ##
  successThreshold: 1

startupProbe:
  ## @param startupProbe.enabled Enable startupProbe
  ##
  enabled: true

  ## @param startupProbe.initialDelaySeconds Initial delay seconds for startupProbe
  ##
  initialDelaySeconds: 0

  ## @param startupProbe.periodSeconds Period seconds for startupProbe
  ##
  periodSeconds: 10

  ## @param startupProbe.timeoutSeconds Timeout seconds for startupProbe
  ##
  timeoutSeconds: 5

  ## @param startupProbe.failureThreshold Failure threshold for startupProbe
  ##
  failureThreshold: 30

  ## @param startupProbe.successThreshold Success threshold for startupProbe
  ##
  successThreshold: 1

## @section Scheduling Configuration

## @param nodeSelector Node labels for pod assignment
## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/
##
nodeSelector: {}

## @param tolerations Tolerations for pod assignment
## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/
##
tolerations: []

## @param affinity Affinity for pod assignment
## ref: https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#affinity-and-anti-affinity
##
affinity: {}

## @param podAnnotations Annotations for Paperless-ngx pods
##
podAnnotations: {}

## @param podLabels Extra labels for Paperless-ngx pods
##
podLabels: {}

## @section Network Policy

## Network Policy configuration
## ref: https://kubernetes.io/docs/concepts/services-networking/network-policies/
##
networkPolicy:
  ## @param networkPolicy.enabled Enable network policies
  ##
  enabled: false

  ## @param networkPolicy.allowExternal Allow external traffic
  ##
  allowExternal: true

  ## @param networkPolicy.extraIngress Additional ingress rules
  ##
  extraIngress: []

  ## @param networkPolicy.extraEgress Additional egress rules
  ##
  extraEgress: []

## @section Monitoring

## Prometheus Operator ServiceMonitor configuration
##
metrics:
  ## @param metrics.enabled Enable Prometheus metrics
  ##
  enabled: false

  serviceMonitor:
    ## @param metrics.serviceMonitor.enabled Create ServiceMonitor resource for scraping metrics using PrometheusOperator
    ##
    enabled: false

    ## @param metrics.serviceMonitor.namespace Namespace in which Prometheus is running
    ##
    namespace: ""

    ## @param metrics.serviceMonitor.interval Interval at which metrics should be scraped
    ##
    interval: 30s

    ## @param metrics.serviceMonitor.scrapeTimeout Timeout after which the scrape is ended
    ##
    scrapeTimeout: 10s

    ## @param metrics.serviceMonitor.labels Additional labels that can be used so ServiceMonitor will be discovered by Prometheus
    ##
    labels: {}

    ## @param metrics.serviceMonitor.selector Prometheus instance selector labels
    ##
    selector: {}

    ## @param metrics.serviceMonitor.relabelings RelabelConfigs to apply to samples before scraping
    ##
    relabelings: []

    ## @param metrics.serviceMonitor.metricRelabelings MetricRelabelConfigs to apply to samples before ingestion
    ##
    metricRelabelings: []

    ## @param metrics.serviceMonitor.honorLabels Specify honorLabels parameter to add the scrape endpoint
    ##
    honorLabels: false

    ## @param metrics.serviceMonitor.jobLabel The name of the label on the target service to use as the job name in prometheus.
    ##
    jobLabel: ""

## @section Extra Configuration

## @param extraEnvVars Array with extra environment variables to add to Paperless-ngx container
## e.g:
## extraEnvVars:
##   - name: FOO
##     value: "bar"
##
extraEnvVars: []

## @param extraEnvVarsCM Name of existing ConfigMap containing extra env vars for Paperless-ngx container
##
extraEnvVarsCM: ""

## @param extraEnvVarsSecret Name of existing Secret containing extra env vars for Paperless-ngx container
##
extraEnvVarsSecret: ""

## @param extraVolumes Optionally specify extra list of additional volumes for the Paperless-ngx pod(s)
##
extraVolumes: []

## @param extraVolumeMounts Optionally specify extra list of additional volumeMounts for the Paperless-ngx container(s)
##
extraVolumeMounts: []

## Init containers to add to the Paperless-ngx pod(s)
##
initContainers: []

## Sidecar containers to add to the Paperless-ngx pod(s)
##
sidecars: []
