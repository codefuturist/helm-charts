# Example using existing secrets
# This demonstrates how to use existing Kubernetes secrets for sensitive data

## Create secrets first:
## kubectl create secret generic paperless-secrets \
##   --from-literal=secret-key="your-long-random-secret-key" \
##   --from-literal=admin-password="your-admin-password" \
##   --from-literal=database-password="your-db-password" \
##   --from-literal=redis-password="your-redis-password" \
##   --from-literal=email-password="your-email-password"

config:
  # Reference existing secret
  existingSecret: "paperless-secrets"

  # Admin configuration (password from secret)
  adminUser: "admin"
  adminMail: "admin@example.com"

  # Application URL and security
  url: "https://paperless.example.com"
  csrfTrustedOrigins:
    - "https://paperless.example.com"
  forceScriptName: "/paperless"
  staticUrl: "/paperless/static/"
  cookiePrefix: "paperless-"
  redirectLoginToSSO: true
  logoutRedirectUrl: "https://sso.example.com/logout-success"
  enableHttpRemoteUser: true
  enableHttpRemoteUserAPI: true
  httpRemoteUserHeaderName: "HTTP_X_AUTH_USER"

  timeZone: "UTC"
  ocrLanguage: "eng"
  enableNltk: true
  dateParserLanguages: "en"

database:
  type: mariadb
  mariadb:
    host: "mariadb.default.svc.cluster.local"
    port: 3306
    database: "paperless"
    username: "paperless"
    existingSecret: "paperless-secrets"
    passwordKey: "database-password"
    sslMode: "REQUIRED"

redis:
  enabled: false
  host: "redis.default.svc.cluster.local"
  port: 6379
  database: 1
  prefix: "paperless"
  # Use existing secret for password
  existingSecret: "paperless-secrets"
  passwordKey: "redis-password"
  ssl: true

email:
  enabled: true
  host: "smtp.example.com"
  port: 587
  from: "paperless@example.com"
  username: "paperless@example.com"
  useTLS: true
  # Use existing secret for password
  existingSecret: "paperless-secrets"
  passwordKey: "email-password"

ingress:
  enabled: true
  className: "nginx"
  hosts:
    - host: paperless.example.com
      paths:
        - path: /
          pathType: Prefix
