# =============================================================================
# =============================================================================
# Pod Disruption Budget Configuration
# @section -- Pod Disruption Budget Configuration
# =============================================================================

podDisruptionBudget:
  # -- Enable Pod Disruption Budget
  enabled: false

  # -- Minimum available pods
  minAvailable: 1

  # -- Maximum unavailable pods (alternative to minAvailable)
  maxUnavailable: ""

# =============================================================================
# Diagnostic Mode Configuration
# @section -- Diagnostic Mode Configuration
# =============================================================================

diagnosticMode:
  # -- Enable diagnostic mode (sleep infinity instead of running application)
  enabled: false

  # -- Command to run in diagnostic mode
  command:
    - sleep

  # -- Arguments for diagnostic mode command
  args:
    - infinity

# =============================================================================
# PostgreSQL Subchart Configuration
# @section -- PostgreSQL Configuration
# =============================================================================

# -- PostgreSQL subchart configuration
# See https://github.com/bitnami/charts/tree/main/bitnami/postgresql for all options
postgresql:
  # -- Enable PostgreSQL subchart
  enabled: true

  # -- PostgreSQL image configuration
  # Override to use available image tag
  image:
    tag: "latest"

  # -- PostgreSQL authentication configuration
  auth:
    # -- PostgreSQL username
    username: shlink
    # -- PostgreSQL password
    password: changeme
    # -- PostgreSQL database name
    database: shlink
    # -- Existing secret with PostgreSQL credentials
    existingSecret: ""

  # -- PostgreSQL architecture (standalone or replication)
  architecture: standalone

  # -- PostgreSQL primary configuration
  primary:
    # -- Persistence configuration for primary
    persistence:
      enabled: true
      size: 8Gi

    # -- Resource limits for primary
    resources: {}
    #   limits:
    #     cpu: 500m
    #     memory: 512Mi
    #   requests:
    #     cpu: 250m
    #     memory: 256Mi
