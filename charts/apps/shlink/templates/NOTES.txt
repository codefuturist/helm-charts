â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                                â•‘
â•‘                              ğŸ”— SHLINK DEPLOYED ğŸ”—                             â•‘
â•‘                                                                                â•‘
â•‘                   Self-hosted URL Shortener with Analytics                    â•‘
â•‘                                                                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ Release Information:
  â€¢ Release Name:    {{ .Release.Name }}
  â€¢ Namespace:       {{ include "shlink.namespace" . }}
  â€¢ Chart Version:   {{ .Chart.Version }}
  â€¢ App Version:     {{ .Chart.AppVersion }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸŒ Accessing Shlink:

{{- if .Values.ingress.backend.enabled }}
  ğŸ“ Shlink API (Backend):
    {{- range .Values.ingress.backend.hosts }}
    ğŸ”— https://{{ .host }}
    {{- end }}
{{- else if contains "LoadBalancer" .Values.service.backend.type }}
  ğŸ“ Shlink API (Backend):
    â³ LoadBalancer IP is being provisioned. Run this command to get it:
       kubectl get svc {{ include "shlink.fullname" . }} -n {{ include "shlink.namespace" . }} --output jsonpath='{.status.loadBalancer.ingress[0].ip}'

    ğŸ”— Once available, access Shlink at http://<EXTERNAL-IP>:{{ .Values.service.backend.port }}
{{- else if contains "NodePort" .Values.service.backend.type }}
  ğŸ“ Shlink API (Backend):
    ğŸ” Get the Node IP and NodePort:
       export NODE_IP=$(kubectl get nodes --selector=kubernetes.io/role!=master -o jsonpath='{.items[0].status.addresses[?(@.type=="ExternalIP")].address}')
       export NODE_PORT=$(kubectl get svc {{ include "shlink.fullname" . }} -n {{ include "shlink.namespace" . }} -o jsonpath='{.spec.ports[0].nodePort}')

    ğŸ”— Access Shlink at http://$NODE_IP:$NODE_PORT
{{- else }}
  ğŸ“ Shlink API (Backend):
    ğŸ’¡ Port-forward to access locally:
       kubectl port-forward -n {{ include "shlink.namespace" . }} svc/{{ include "shlink.fullname" . }} 8080:{{ .Values.service.backend.port }}

    ğŸ”— Then access Shlink at http://localhost:8080
{{- end }}

{{- if .Values.webClient.enabled }}

{{- if .Values.ingress.webClient.enabled }}
  ğŸ“± Shlink Web Client (UI):
    {{- range .Values.ingress.webClient.hosts }}
    ğŸ”— https://{{ .host }}
    {{- end }}
{{- else if contains "LoadBalancer" .Values.service.webClient.type }}
  ğŸ“± Shlink Web Client (UI):
    â³ LoadBalancer IP is being provisioned. Run this command to get it:
       kubectl get svc {{ include "shlink.fullname" . }}-webclient -n {{ include "shlink.namespace" . }} --output jsonpath='{.status.loadBalancer.ingress[0].ip}'

    ğŸ”— Once available, access Web UI at http://<EXTERNAL-IP>:{{ .Values.service.webClient.port }}
{{- else if contains "NodePort" .Values.service.webClient.type }}
  ğŸ“± Shlink Web Client (UI):
    ğŸ” Get the Node IP and NodePort:
       export NODE_IP=$(kubectl get nodes --selector=kubernetes.io/role!=master -o jsonpath='{.items[0].status.addresses[?(@.type=="ExternalIP")].address}')
       export NODE_PORT=$(kubectl get svc {{ include "shlink.fullname" . }}-webclient -n {{ include "shlink.namespace" . }} -o jsonpath='{.spec.ports[0].nodePort}')

    ğŸ”— Access Web UI at http://$NODE_IP:$NODE_PORT
{{- else }}
  ğŸ“± Shlink Web Client (UI):
    ğŸ’¡ Port-forward to access locally:
       kubectl port-forward -n {{ include "shlink.namespace" . }} svc/{{ include "shlink.fullname" . }}-webclient 8081:{{ .Values.service.webClient.port }}

    ğŸ”— Then access Web UI at http://localhost:8081
{{- end }}
{{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” Security Notes:

{{- if .Values.postgresql.enabled }}
  ğŸ—„ï¸  Database:
    PostgreSQL has been deployed as a subchart.
    {{- if eq .Values.postgresql.auth.password "changeme" }}

    âš ï¸  WARNING: You are using the default database password 'changeme'
    ğŸ”’ IMPORTANT: Change this password immediately in production!

    Update with:
      --set postgresql.auth.password=YOUR_SECURE_PASSWORD
    {{- end }}
{{- else }}
  ğŸ—„ï¸  Database:
    Using external database: {{ .Values.database.host }}:{{ .Values.database.port }}
{{- end }}

{{- if not .Values.shlink.initialApiKey }}
  ğŸ”‘ API Key:
    No initial API key was set. Generate one using the Shlink CLI:
      kubectl exec -n {{ include "shlink.namespace" . }} -it deployment/{{ include "shlink.fullname" . }} -- ./vendor/bin/shlink api-key:generate
{{- else }}
  ğŸ”‘ API Key:
    Initial API key has been configured.
    âš ï¸  For production, create additional API keys with specific permissions via the CLI.
{{- end }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š Next Steps:

  1. ğŸ”‘ Create API Keys (if not using initial key):
     kubectl exec -n {{ include "shlink.namespace" . }} -it deployment/{{ include "shlink.fullname" . }} -- ./vendor/bin/shlink api-key:generate

  2. ğŸŒ Configure your domain:
     Update the DNS records for '{{ .Values.shlink.defaultDomain }}' to point to your Shlink instance

  3. ğŸ“Š Enable GeoLite2 (optional):
     Sign up at https://www.maxmind.com/en/geolite2/signup
     Then update with:
       --set shlink.geoLiteLicenseKey=YOUR_LICENSE_KEY

  4. ğŸ“– View Logs:
     Backend:     kubectl logs -n {{ include "shlink.namespace" . }} -l app.kubernetes.io/name={{ include "shlink.name" . }} -f
     {{- if .Values.webClient.enabled }}
     Web Client:  kubectl logs -n {{ include "shlink.namespace" . }} -l app.kubernetes.io/name={{ include "shlink.name" . }}-webclient -f
     {{- end }}

  5. ğŸ“‹ Get Pod Status:
     kubectl get pods -n {{ include "shlink.namespace" . }} -l app.kubernetes.io/instance={{ .Release.Name }}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“– Documentation:
  â€¢ Chart Docs:   https://github.com/codefuturist/helm-charts/tree/main/charts/shlink
  â€¢ Shlink Docs:  https://shlink.io/documentation/
  â€¢ API Docs:     https://api-spec.shlink.io/

ğŸ’¬ Support:
  â€¢ GitHub Issues: https://github.com/codefuturist/helm-charts/issues
  â€¢ Shlink GitHub: https://github.com/shlinkio/shlink

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Thank you for using Shlink! ğŸš€
