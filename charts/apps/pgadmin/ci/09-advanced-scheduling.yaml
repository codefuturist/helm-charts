# CI Test: Advanced scheduling
# Tests topology spread, affinity, and DNS configuration

pgadmin:
  email: admin@example.com
  password: SuperSecurePassword123

controller:
  replicas: 2

topologySpreadConstraints:
  - maxSkew: 1
    topologyKey: topology.kubernetes.io/zone
    whenUnsatisfiable: ScheduleAnyway
    labelSelector:
      matchLabels:
        app.kubernetes.io/name: pgadmin

affinity:
  podAntiAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
      - labelSelector:
          matchLabels:
            app.kubernetes.io/name: pgadmin
        topologyKey: kubernetes.io/hostname

dnsPolicy: ClusterFirst
dnsConfig:
  options:
    - name: ndots
      value: "2"

hostAliases:
  - ip: "10.0.0.1"
    hostnames:
      - "db.example.com"

persistence:
  enabled: false
