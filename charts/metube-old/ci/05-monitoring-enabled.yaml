# CI Test: Monitoring and autoscaling enabled
# Tests ServiceMonitor, PrometheusRule, and HPA

pgadmin:
  email: admin@example.com
  password: SuperSecurePassword123

monitoring:
  serviceMonitor:
    enabled: true
    interval: 30s
    scrapeTimeout: 10s
    metricRelabelings:
      - sourceLabels: [__name__]
        regex: "go_.*"
        action: drop

  prometheusRule:
    enabled: true
    rules:
      - alert: PgAdminDown
        expr: up{job="pgadmin"} == 0
        for: 5m
        labels:
          severity: critical

hpa:
  enabled: true
  minReplicas: 2
  maxReplicas: 5
  targetCPU: 80

pdb:
  enabled: true
  minAvailable: 1

persistence:
  enabled: false
