Restic Backup Chart has been installed!

Chart Name: {{ .Chart.Name }}
Chart Version: {{ .Chart.Version }}
Release Name: {{ .Release.Name }}
Namespace: {{ include "restic-backup.namespace" . }}

{{- if .Values.restic.backup.enabled }}

ğŸ“¦ BACKUP CONFIGURATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Repository: {{ .Values.restic.repository }}
Schedule: {{ .Values.restic.backup.schedule }}
Volumes to backup:
{{- range .Values.volumes }}
  â€¢ {{ .name }} ({{ .claimName }})
{{- end }}

{{- if .Values.restic.backup.retention.enabled }}
Retention Policy:
  â€¢ Last {{ .Values.restic.backup.retention.keepLast }} snapshots
  â€¢ Daily for {{ .Values.restic.backup.retention.keepDaily }} days
  â€¢ Weekly for {{ .Values.restic.backup.retention.keepWeekly }} weeks
  â€¢ Monthly for {{ .Values.restic.backup.retention.keepMonthly }} months
  â€¢ Yearly for {{ .Values.restic.backup.retention.keepYearly }} years
{{- end }}
{{- end }}

{{- if .Values.restic.check.enabled }}

ğŸ” REPOSITORY CHECK
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Schedule: {{ .Values.restic.check.schedule }}
Read Data: {{ .Values.restic.check.readData }}
{{- end }}

ğŸ“‹ USEFUL COMMANDS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# View backup jobs
kubectl get cronjobs -n {{ include "restic-backup.namespace" . }}

# View recent backup job runs
kubectl get jobs -n {{ include "restic-backup.namespace" . }} -l app.kubernetes.io/instance={{ .Release.Name }}

# Check backup logs
kubectl logs -n {{ include "restic-backup.namespace" . }} -l app.kubernetes.io/component=backup-job --tail=100

# Trigger manual backup
kubectl create job -n {{ include "restic-backup.namespace" . }} \
  --from=cronjob/{{ include "restic-backup.name" . }}-backup \
  manual-backup-$(date +%s)

# List snapshots (exec into a pod)
kubectl run -n {{ include "restic-backup.namespace" . }} restic-shell -it --rm \
  --image={{ include "restic-backup.image" . }} \
  --env=RESTIC_REPOSITORY={{ .Values.restic.repository }} \
  --env=RESTIC_PASSWORD={{ .Values.restic.password }} \
  -- restic snapshots

{{- if not .Values.restic.existingSecret }}
{{- if or (not .Values.restic.repository) (not .Values.restic.password) }}

âš ï¸  WARNING
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Repository credentials are not properly configured!

Please set:
  â€¢ restic.repository (backup destination)
  â€¢ restic.password (encryption password)

Or use an existing secret:
  â€¢ restic.existingSecret

{{- end }}
{{- end }}

{{- if not .Values.volumes }}

âš ï¸  WARNING
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
No volumes configured for backup!

Please add volumes to backup in values.yaml:
  volumes:
    - name: my-data
      claimName: my-pvc
      mountPath: /data

{{- end }}

ğŸ” SECURITY RECOMMENDATIONS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ“ Use external secret management (e.g., External Secrets Operator)
âœ“ Enable network policies for additional security
âœ“ Store restic password in a secure vault
âœ“ Test restore procedures regularly
âœ“ Monitor backup job success/failure metrics

ğŸ“š For more information, see:
   â€¢ Chart README: https://github.com/codefuturist/helm-charts
   â€¢ Restic Documentation: https://restic.readthedocs.io/
